<div>

  <div class="col s12 m12 l6">
    <div class="row">
      <div class="col s12 m12 l12">
        <h3>{{ ctrl.model.vehicle.name }}</h3>

        <i class="material-icons tiny">query_builder</i> request time: {{ ctrl.model.requestTimeFromNow }}
        <small>({{ ctrl.model.requestTime }})</small>
        <br/>
        <i class="material-icons tiny">router</i> data provider: {{ ctrl.model.vehicle.provider }}
        <br/>
        <br/>

        <i class="material-icons tiny">room</i> lat/lng: {{ctrl.model.vehicle.location.lat}} / {{
        ctrl.model.vehicle.location.lng }}
        <br/>

        <i class="material-icons tiny">query_builder</i> position time: {{ ctrl.model.positionTimeFromNow }}
        <small>({{ ctrl.model.positionTime }})</small>
        <br/>

        <i class="material-icons tiny">av_timer</i> speed: {{ (ctrl.model.vehicle.data.speed || 0) }} km/h

        <br />
        
        <a class="btn waves-effect waves-light" 
           data-ui-sref="vehicle_reservation({id: ctrl.model.vehicle.id})"
           data-ng-if="ctrl.model.vehicle.id !== 1">View reservations</a>
      </div>
    </div>

  </div>

  <div class="col s12 m12 l6" style="padding: 9px;">
    <leaflet id="mymap"
             defaults="ctrl.map.defaults"
             center="ctrl.map.center"
             markers="ctrl.map.markers"
             tiles="ctrl.map.tiles"
             height="250px">
    </leaflet>
  </div>

  <div class="col s12 m12 l12">
    <h5>STATE params</h5>

    <div class="card-panel amber lighten-5" data-ng-if="ctrl.model.vehicle.data.states.length <= 0">
      No states params present.
    </div>
    <table data-ng-if="ctrl.model.vehicle.data.states.length > 0">
      <thead>
      <tr>
        <th>param</th>
        <th>value</th>
        <!--th>timestamp</th-->
      </tr>
      </thead>

      <tbody>
      <tr data-ng-repeat="state in ctrl.model.vehicle.data.states">
        <td>
          <code data-materialize-tooltipped data-delay="50"
                data-tooltip="{{ ctrl.stateParamsMap[state.code].description || 'No info.' }}">
            {{ state.param }}
          </code>
        </td>
        <td>
          <span>{{ state.value }}</span>
        </td>
        <!--td>
          <span>{{ state.timestampFromNow }}</span>
        </td-->
      </tr>
      </tbody>
    </table>

  </div>

  <div class="col s12 m12 l12">
    <h5>XFCD params</h5>

    <div class="card-panel amber lighten-5" data-ng-if="ctrl.model.vehicle.data.xfcds.length <= 0">
      No xfcd params present.
    </div>
    <table data-ng-if="ctrl.model.vehicle.data.xfcds.length > 0">
      <thead>
      <tr>
        <th>param</th>
        <th>value</th>
        <!--th>timestamp</th-->
      </tr>
      </thead>

      <tbody>
      <tr data-ng-repeat="xfcd in ctrl.model.vehicle.data.xfcds">
        <td>
          <code>
            {{ xfcd.param }}
          </code>
        </td>
        <td>
          <span>{{ xfcd.value }}</span>
        </td>
        <!--td>
          <span>{{ xfcd.timestampFromNow }}</span>
        </td-->
      </tr>
      </tbody>
    </table>

  </div>

  <div style="margin: 3em">&nbsp;</div>
  
</div>

</div>
