<div>

  <div class="col s12 m12 l6">
    <div class="row">
      <div class="col s12 m12 l12">
        <h3>{{ ctrl.model.vehicle.name }}</h3>

        <i class="material-icons tiny">query_builder</i> request time: {{ ctrl.model.requestTimeFromNow }}
        <small>({{ ctrl.model.requestTime }})</small>
        <br/>
        <i class="material-icons tiny">router</i> data provider: {{ ctrl.model.vehicle.provider }}
        <br/>
        <br/>

        <i class="material-icons tiny">room</i> lat/lng: {{ctrl.model.vehicle.location.lat}} / {{
        ctrl.model.vehicle.location.lng }}
        <br/>

        <i class="material-icons tiny">query_builder</i> position time: {{ ctrl.model.positionTimeFromNow }}
        <small>({{ ctrl.model.positionTime }})</small>
        <br/>

        <i class="material-icons tiny">av_timer</i> speed: {{ (ctrl.model.vehicle.data.speed || 0) }} km/h

      </div>
    </div>

  </div>

  <div class="col s12 m12 l6" style="padding: 9px;">
    <leaflet id="mymap"
             defaults="ctrl.map.defaults"
             center="ctrl.map.center"
             markers="ctrl.map.markers"
             tiles="ctrl.map.tiles"
             height="250px">
    </leaflet>
  </div>

  <div class="col s12 m12 l12">
    <h5>STATE params</h5>

    <table>
      <thead>
      <tr>
        <th>param</th>
        <th>value</th>
      </tr>
      </thead>

      <tbody>
      <tr data-ng-repeat="state in ctrl.model.vehicle.data.states | filter:filterStateParamInput"
          data-ng-show-DISABLED="!!ctrl.stateParamsMap[state.param]">
        <!--td>{{ ctrl.canParamsMap[xfcd.param].code }}</td-->
        <td>
          <span data-materialize-tooltipped data-delay="50"
                data-tooltip="{{ ctrl.stateParamsMap[state.code].description || 'No info.' }}">
            {{ state.param }}
          </span>
        </td>
        <td>
          <span>{{ state.value }}</span>
          <!--span>{{ ctrl.stateParamsMap[state.param].UNIT }}</span-->
        </td>
      </tr>
      </tbody>
    </table>

  </div>

  <div class="col s12 m12 l12">
    <h5>XFCD params</h5>

    <table>
      <thead>
      <tr>
        <th>param</th>
        <th>value</th>
      </tr>
      </thead>

      <tbody>
      <tr data-ng-repeat="xfcd in ctrl.model.vehicle.data.xfcds | filter:filterXfcdParamInput"
          data-ng-show-DISABLED="!!ctrl.canParamsMap[xfcd.param]">
        <!--td>{{ ctrl.canParamsMap[xfcd.param].code }}</td-->
        <td>
          <span data-materialize-tooltipped data-delay="50"
                data-tooltip="{{ ctrl.canParamsMap[xfcd.param].description || 'No info.' }}">
            {{ xfcd.param }}
          </span>
        </td>
        <td>
          <span>{{ xfcd.value }}</span>
          <!--span>{{ ctrl.canParamsMap[xfcd.param].UNIT }}</span-->
        </td>
        <!--td>{{ canParam.DESCEN }}</td>
        <td>{{ canParam.UNIT }}</td>
        <td>{{ canParam.DATATYPE }}</td-->
      </tr>
      </tbody>
    </table>
  </div>
</div>

</div>
